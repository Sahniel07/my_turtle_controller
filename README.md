üê¢ Smart Turtle Controller (ROS 2 + Gemini AI)This project implements a Natural Language Interface for the ROS 2 turtlesim robot. It uses the Google Gemini API to translate English commands (e.g., "Draw a pentagon") into executable movement trajectories.üöÄ FeaturesAI-Powered Planning: Uses Large Language Models (LLM) to understand geometric intent.JSON Protocol: Enforces a strict structured output from the AI to ensure safety.ROS 2 Integration: A custom Python node that executes open-loop velocity commands.Drift Mitigation: Includes high-frequency timer logic (100Hz) to capture micro-movements.üõ†Ô∏è PrerequisitesROS 2 (Humble, Foxy, or Jazzy)Python 3.10+Turtlesim package: sudo apt install ros-humble-turtlesimGoogle GenAI SDK: pip install google-genaiüì¶ InstallationClone the repository into your ROS 2 workspace src folder:Bashcd ~/ros2_ws/src
git clone https://github.com/YOUR_USERNAME/my_turtle_controller.git
Install Python dependencies:Bashpip install google-genai
Build the package:Bashcd ~/ros2_ws
colcon build --packages-select my_turtle_controller
source install/setup.bash
üîë ConfigurationYou need a Google Gemini API Key to run this node.Get a key from Google AI Studio.Security Best Practice: Do not hardcode the key. Export it in your terminal before running:Bashexport GOOGLE_API_KEY="your_actual_api_key_here"
(Note: You may need to update the smart_turtle.py code to read os.environ.get("GOOGLE_API_KEY") if you haven't already).üê¢ UsageStep 1: Launch the SimulationOpen a terminal and run:Bashros2 run turtlesim turtlesim_node
Step 2: Run the AI ControllerOpen a second terminal, source your workspace, and run:Bashsource ~/ros2_ws/install/setup.bash
ros2 run my_turtle_controller smart_turtle
Step 3: Command the RobotThe terminal will prompt you:PlaintextEnter your command (e.g., 'Draw a square'):
Type something like: "Draw a star pattern" or "Move in a zigzag."üß† System ArchitectureUser Input: Captures natural language string.Prompt Engineering: Wraps input with a System Prompt defining physical constraints (11x11m world) and JSON schema.Gemini API: Returns a list of primitives: [{"command": "move", "value": 2.0}, ...].Executor: The ROS node parses the JSON and uses a 100Hz timer to publish cmd_vel messages based on calculated duration ($t = d/v$).‚ö†Ô∏è Known IssuesDrift: Since this uses Open-Loop control (no odometry feedback), complex shapes may not close perfectly due to friction and timing variance.API Latency: There is a slight delay while the AI generates the plan.üìú License
